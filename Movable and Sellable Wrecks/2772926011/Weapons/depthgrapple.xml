<?xml version="1.0" encoding="utf-8"?>
<Override>
  <Items>
    <Item name="Grapple" identifier="grapple" category="Equipment" maxstacksize="1" interactthroughwalls="true" cargocontaineridentifier="metalcrate" tags="largeitem,grapple,depthchargeammo" Scale="0.5" impactsoundtag="impact_metal_heavy" description="Grapple that can be fired from a depth charge tube. Used for towing submarine back to outposts." interactdistance="100">
      <PreferredContainer primary="ammoboxcontainer" />
      <PreferredContainer secondary="armcab" minamount="0" maxamount="1" spawnprobability="0.01" />
      <PreferredContainer secondary="wreckarmcab" minamount="0" maxamount="1" spawnprobability="0.05" />
      <PreferredContainer secondary="abandonedarmcab" minamount="0" maxamount="1" spawnprobability="0.02" />
      <PreferredContainer secondary="wreckstoragecab" minamount="0" maxamount="1" spawnprobability="0.02" />
      <Price baseprice="225" soldeverywhere="false">
        <Price locationtype="outpost" multiplier="1.5" minavailable="1" />
        <Price locationtype="city" multiplier="1.25" minavailable="1" />
        <Price locationtype="research" multiplier="1.25" sold="false" />
        <Price locationtype="military" multiplier="0.9" minavailable="1" />
        <Price locationtype="mine" multiplier="1.25" minavailable="2" />
      </Price>
      <Deconstruct time="25">
        <Item identifier="steel" />
        <Item identifier="titaniumaluminiumalloy" />
      </Deconstruct>
      <Fabricate suitablefabricators="fabricator" requiredtime="10">
        <RequiredSkill identifier="weapons" level="40" />
        <RequiredItem identifier="steel" />
        <RequiredItem identifier="titaniumaluminiumalloy" />
      </Fabricate>
      <InventoryIcon texture="%ModDir%/Weapons/weapons_grapple.png" sourcerect="0,81,111,69" origin="0.5,0.5" />
      <Sprite texture="%ModDir%/Weapons/weapons_grapple.png" sourcerect="0,81,111,69" origin="0.5,0.5" />
      <Decorativesprite texture="%ModDir%/Weapons/weapons_grapple.png" sourcerect="119,0,93,160" origin="0.5,0.5">
        <Conditional IsActive="True" targetitemcomponent="Projectile" />
      </Decorativesprite>
      <!-- 	  <Decorativesprite texture="%ModDir%/Weapons/weapons_grapple.png" sourcerect="0,81,111,69" origin="0.5,0.5" >
		<Conditional IsActive="False" targetitemcomponent="Projectile" />
	  </Decorativesprite> -->
      <Body width="80" height="80" density="20" />
      <Holdable slots="RightHand+LeftHand" holdpos="15,-50" handle1="-10,0" handle2="10,0" aimable="false" msg="ItemMsgPickUpSelect">
        <StatusEffect type="OnContained" target="Character" SpeedMultiplier="0.6" SetValue="true" disabledeltatime="true" />
      </Holdable>
      <Rope targetpullforce="60000" projectilepullforce="0" sourcepullforce="70000" maxlength="10000" snaponcollision="true" spritewidth="20" tile="true" origin="0.05,0.5" targetminmass="0" lerpforces="true">
        <Sprite texture="%ModDir%/Weapons/weapons_grapple.png" sourcerect="0,13,101,20" depth="0.57" origin="0.5,0.5" />
        <!-- Snap after 3 seconds if not stuck to anything -->
        <StatusEffect type="OnUse" target="This" Snapped="true" delay="3" checkconditionalalways="true">
          <Conditional targetitemcomponent="Projectile" IsStuckToTarget="false" />
        </StatusEffect>
      </Rope>
      <Projectile characterusable="false" launchimpulse="20.0" sticktostructures="true" sticktocharacters="true" doesstick="true" stickpermanently="true" maxtargetstohit="1" spread="10">
        <Attack structuredamage="15" itemdamage="40" targetforce="50" severlimbsprobability="0.1">
          <Affliction identifier="bleeding" strength="100" />
          <Affliction identifier="lacerations" strength="100" />
        </Attack>
        <StatusEffect type="OnActive" target="UseTarget,This" checkconditionalalways="true" comparison="And">
          <Conditional Snapped="false" />
          <Affliction identifier="stun" strength="5" />
          <Affliction identifier="slow" strength="100" />
        </StatusEffect>
        <StatusEffect type="OnImpact" target="This">
          <Sound file="Content/Map/Thalamus/Sounds/CARRIER_harpoonHit1.ogg" range="10000" volume="3" selectionmode="Random" />
          <Sound file="Content/Map/Thalamus/Sounds/CARRIER_harpoonHit2.ogg" range="10000" volume="3" />
        </StatusEffect>
      </Projectile>
    </Item>
  </Items>
</Override>